(this["webpackJsonpstoploan-manager"]=this["webpackJsonpstoploan-manager"]||[]).push([[0],{158:function(e,a,t){e.exports=t.p+"static/media/circle.953c9ca0.svg"},216:function(e,a,t){e.exports={"page-sider":"style_page-sider__wLuzY"}},238:function(e,a,t){e.exports=t(457)},25:function(e,a,t){},26:function(e,a,t){},318:function(e,a,t){},409:function(e,a,t){},419:function(e,a,t){},426:function(e,a,t){},443:function(e,a,t){},456:function(e,a,t){},457:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(8),r=t.n(c),o=t(20),i=t(70),m=t(3),s=t(465),u=t(467),d=t(204),p=t(464),b=t(458),E=t(459),f=t(31),g=t(16),h=t(84),v=t.n(h),y=t(199),O=t.n(y),j=t(87),N={username:localStorage.getItem("username"),expired:0},S=t(235),k={menuList:[]},x={LoginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"save_user_info":return Object.assign({},e,{username:a.data});case"trigger_expired":return Object.assign({},e,{expired:e.expired+1});default:return e}},GlobalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(console.log(a),a.type){case"get_menu_list":return Object.assign({},e,{menuList:Object(S.a)(a.data)});default:return e}}},I=Object(j.b)(x),w=Object(j.c)(I,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),C=v.a.create();C.interceptors.request.use((function(e){e.headers["Content-Type"]="application/x-www-form-urlencoded",e.transformRequest=[function(e){return O.a.stringify(e)}];var a=localStorage.getItem("$Token");return a&&(e.headers.Token=a),e}),(function(e){return Promise.reject(e)})),C.interceptors.response.use((function(e){if(console.log(e),1007!=e.data.code)return e.data;u.a.error(e.data.message,(function(){localStorage.clear(),w.dispatch({type:"trigger_expired"})}))}),(function(e){return console.log("\u62a5\u9519"),Promise.reject(e)}));var z=C,F=function(e,a){return new Promise((function(t,n){console.log(Object(g.a)({},a)),z(Object(g.a)({url:e},a)).then((function(e){t(e)})).catch((function(e){n(n)}))}))},q=function(e,a){return F(e,{params:a,method:"GET"})},T=function(e,a){return F(e,{data:a,method:"POST"})},M=t(14),R=t(470),L=(t(318),s.a.Item);var P=Object(M.b)(null,(function(e){return{saveUserInfo:function(){e({type:"save_user_info",data:localStorage.getItem("username")})}}}))((function(e){console.log(e);var a=s.a.useForm(),t=Object(m.a)(a,1)[0],c=Object(n.useState)(!1),r=Object(m.a)(c,2),o=r[0],i=r[1],g=Object(n.useState)(!1),h=Object(m.a)(g,2),v=h[0],y=h[1],O=Object(n.useState)(""),j=Object(m.a)(O,2),N=j[0],S=j[1],k=Object(n.useRef)(),x=function(){y(!0),S("/manage/sys/captcha?t="+(new Date).getTime()),k.current.onload=function(){y(!1)}};return Object(n.useEffect)((function(){localStorage.getItem("$Token")&&e.history.push("/"),x()}),[]),l.a.createElement("div",{className:"login-box"},l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"main-form"},l.a.createElement(d.a,{tip:"\u767b\u5f55\u4e2d...",spinning:o},l.a.createElement("h2",{className:"title"},"\u767b\u5f55"),l.a.createElement(s.a,{form:t,onFinish:function(a){i(!0),T("/manage/sys/login",a).then((function(t){i(!1),0==t.code?(localStorage.setItem("$Token",t.data.token),localStorage.setItem("username",a.username),e.saveUserInfo(),u.a.success("\u767b\u5f55\u6210\u529f",(function(){e.history.replace("/")}))):u.a.error(t.message,(function(){x()}))})).catch((function(e){console.log(e)}))}},l.a.createElement(L,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"})),l.a.createElement(L,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]},l.a.createElement(p.a,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),l.a.createElement(L,null,l.a.createElement(b.a,null,l.a.createElement(E.a,{span:15},l.a.createElement(L,{noStyle:!0,name:"captcha",className:"code-con",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u56fe\u5f62\u9a8c\u8bc1\u7801"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u56fe\u5f62\u9a8c\u8bc1\u7801"}))),l.a.createElement(E.a,{span:9},l.a.createElement(d.a,{indicator:l.a.createElement(R.a,null),spinning:v},l.a.createElement("span",{className:"img-code",onClick:x},l.a.createElement("img",{ref:k,src:N})))))),l.a.createElement(s.a.Item,null,l.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u767b\u5f55")))))))})),A=t(460),_=t(207),K=t(50),V=t(134),G=t(471),U=t(472),D=t(473),W=t(463),B=(t(25),s.a.Item);function J(e){var a=e.visible,t=s.a.useForm(),n=Object(m.a)(t,1)[0],c=function(){n.resetFields(),e.hideModal()};return l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:600,className:"modal-common",title:"\u4fee\u6539\u5bc6\u7801",visible:a,onOk:function(){n.validateFields().then((function(e){console.log(e),T("/manage/sys/user/updateSelfPassword",{nowPassword:e.nowPassword,newPassword:e.newPassword,confirmPwd:e.confirmPwd}).then((function(e){"0"==e.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),c()):u.a.error(e.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:c},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:n}),l.a.createElement(B,{label:"\u5bc6\u7801",name:"nowPassword",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]},l.a.createElement(p.a,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),l.a.createElement(B,{label:"\u65b0\u5bc6\u7801",name:"newPassword",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"}]},l.a.createElement(p.a,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"})),l.a.createElement(B,{label:"\u786e\u8ba4\u5bc6\u7801",name:"confirmPwd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u786e\u8ba4\u5bc6\u7801"}]},l.a.createElement(p.a,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u786e\u8ba4\u5bc6\u7801"}))))))}t(409);var $=A.a.Header;var X=Object(M.b)((function(e){return{username:e.LoginReducer.username}}),(function(e){return{getMenuList:function(a){e({type:"get_menu_list",data:a})}}}))((function(e){var a=Object(i.g)(),t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],s=Object(n.useState)(""),u=Object(m.a)(s,2),d=u[0],p=u[1],b=function(a){e.getMenuList(a)},E=function(e){var a,t=Object(_.a)(r);try{for(t.s();!(a=t.n()).done;){var n=a.value;if(e==n.id)return n.list}}catch(l){t.e(l)}finally{t.f()}},f=l.a.createElement(K.a,null,l.a.createElement(K.a.Item,null,l.a.createElement(G.a,null),l.a.createElement("span",{onClick:function(){y(!0)}},"\u4fee\u6539\u4fe1\u606f")),l.a.createElement(K.a.Divider,null),l.a.createElement(K.a.Item,null,l.a.createElement(U.a,null),l.a.createElement("span",{onClick:function(){T("/manage/sys/logout").then((function(e){e&&0==e.code&&(localStorage.clear(),a.push("/login"))})).catch((function(e){console.log(e)}))}},"\u9000\u51fa\u767b\u5f55"))),g=Object(n.useState)(!1),h=Object(m.a)(g,2),v=h[0],y=h[1];return Object(n.useEffect)((function(){q("/manage/sys/index").then((function(e){e&&0==e.code&&(console.log("\u8c03\u7528aaa"),o(e.data),e.data.forEach((function(e){e.list.forEach((function(t){a.location.pathname===t.url&&(b(e.list),p(e.id.toString()))}))})))})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("div",null,l.a.createElement($,null,l.a.createElement("div",{className:"logo"},"\u805a\u661f\u9601\u4f20\u5a92"),l.a.createElement(K.a,{theme:"dark",mode:"horizontal",selectedKeys:[d],onSelect:function(e){var t=e.key,n=E(t);p(t),b(n),a.push(n[0].url)},className:"main-menu"},r.map((function(e,a){return l.a.createElement(K.a.Item,{key:e.id.toString()},e.name)}))),l.a.createElement(V.a,{overlay:f,placement:"bottomCenter",trigger:["click"]},l.a.createElement("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},e.username," ",l.a.createElement(D.a,null)))),l.a.createElement(J,{visible:v,hideModal:function(){y(!1)}}))})),H=t(216),Y=t.n(H),Q=A.a.Sider;var Z=Object(M.b)((function(e){return{menuList:e.GlobalReducer.menuList}}),null)((function(e){var a=Object(i.g)(),t=Object(n.useState)(!1),c=Object(m.a)(t,2),r=c[0],s=c[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),p=d[0],b=d[1];return Object(n.useEffect)((function(){b(a.location.pathname)})),l.a.createElement(Q,{collapsible:!0,collapsed:r,width:200,className:Y.a["page-sider"],onCollapse:function(e){s(e)}},l.a.createElement(K.a,{mode:"inline",selectedKeys:[p],onSelect:function(e){var a=e.key;b(a)}},e.menuList.map((function(e){return l.a.createElement(K.a.Item,{key:e.url},l.a.createElement(o.b,{to:e.url},e.name))}))))})),ee=t(466);t(419);function ae(e){var a=e.icon,t=e.routes;return l.a.createElement("div",{className:"page-header"},l.a.createElement(ee.a,{title:e.title,avatar:{shape:"square",icon:l.a.createElement(a,null)},backIcon:!1,breadcrumb:{routes:t}}))}t(426);var te=t(474);function ne(){var e=Object(n.useState)(0),a=Object(m.a)(e,2),c=a[0],r=a[1],o=Object(n.useState)(0),i=Object(m.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(0),p=Object(m.a)(d,2),f=p[0],g=p[1];return Object(n.useEffect)((function(){q("/manage/wx/gzh/resoDocking/statistics").then((function(e){e&&0==e.code&&(r(e.data.todayNum),u(e.data.weekNum),g(e.data.monthNum))})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("div",{className:"workbench-box"},l.a.createElement(ae,{title:"\u6570\u636e\u7edf\u8ba1",icon:te.a}),l.a.createElement("div",{className:"content"},l.a.createElement(b.a,null,l.a.createElement(E.a,{span:8},l.a.createElement("div",{className:"item-card"},l.a.createElement("div",{className:"item-card-body bg01"},l.a.createElement("img",{src:t(158),className:"item-card-img",alt:""}),l.a.createElement("h4",null,"\u4eca\u65e5\u5546\u52a1\u5bf9\u63a5\u63d0\u4ea4\u6b21\u6570"),l.a.createElement("p",null,l.a.createElement("strong",null,c))))),l.a.createElement(E.a,{span:8},l.a.createElement("div",{className:"item-card"},l.a.createElement("div",{className:"item-card-body bg02"},l.a.createElement("img",{src:t(158),className:"item-card-img",alt:""}),l.a.createElement("h4",null,"\u672c\u5468\u5546\u52a1\u5bf9\u63a5\u63d0\u4ea4\u6b21\u6570"),l.a.createElement("p",null,l.a.createElement("strong",null,s))))),l.a.createElement(E.a,{span:8},l.a.createElement("div",{className:"item-card"},l.a.createElement("div",{className:"item-card-body bg03"},l.a.createElement("img",{src:t(158),className:"item-card-img",alt:""}),l.a.createElement("h4",null,"\u672c\u6708\u5546\u52a1\u5bf9\u63a5\u63d0\u4ea4\u6b21\u6570"),l.a.createElement("p",null,l.a.createElement("strong",null,f))))))))}var le=t(475),ce=t(461),re=s.a.Item;function oe(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0],i=function(){o.resetFields(),e.hideModal()};return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:800,className:"modal-common",title:a,visible:t,onOk:function(){o.validateFields().then((function(a){console.log(a),T("/api/v1/app/update",a).then((function(a){0===a.code?(u.a.success("\u4fee\u6539\u6210\u529f"),i(),e.refresh()):u.a.error(a.msg)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:i},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(re,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(re,{label:"\u5e94\u7528\u540d\u79f0",name:"appName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0"})),l.a.createElement(re,{label:"\u9ed1\u540d\u5355\u547d\u4e2d\u8df3\u8f6c\u94fe\u63a5",name:"hitBlacklistJumpLink",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9ed1\u540d\u5355\u547d\u4e2d\u8df3\u8f6c\u94fe\u63a5"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u9ed1\u540d\u5355\u547d\u4e2d\u8df3\u8f6c\u94fe\u63a5"}))))))}t(26);var ie=Object(M.b)((function(e){return{username:e.LoginReducer.username}}))((function(e){console.log(e);var a=Object(n.useState)([]),t=Object(m.a)(a,2),c=t[0],r=t[1],o=Object(n.useState)(!1),i=Object(m.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(m.a)(d,2),b=p[0],E=p[1],f=Object(n.useState)(""),h=Object(m.a)(f,2),v=h[0],y=(h[1],Object(n.useState)({})),O=Object(m.a)(y,2),j=O[0],N=(O[1],Object(n.useState)({current:1,pageSize:10})),S=Object(m.a)(N,2),k=S[0],x=S[1],I=function(){u(!0),T("/manage/wx/gzh/resoDocking/list",{current:k.current,pageSize:k.pageSize,searchParams:""}).then((function(e){0==e.code&&(u(!1),r(e.data.list),x({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total}))})).catch((function(e){console.log(e)}))};return Object(n.useEffect)((function(){return I(),function(){}}),[k.current]),l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"H5\u5546\u52a1\u5bf9\u63a5",icon:le.a,routes:[{path:"/application",breadcrumbName:"\u5e94\u7528\u7ba1\u7406"},{path:"",breadcrumbName:"\u5e94\u7528\u5217\u8868"}]}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u5546\u52a1\u5bf9\u63a5\u5217\u8868"),l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:s,dataSource:c,columns:[{title:"\u516c\u53f8\u5168\u79f0",dataIndex:"companyName",key:"companyName"},{title:"\u516c\u53f8\u804c\u52a1",dataIndex:"position",key:"position"},{title:"\u5408\u4f5c\u8eab\u4efd",dataIndex:"cooperateIdentity",key:"cooperateIdentity"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u624b\u673a\u53f7",dataIndex:"mobile",key:"mobile"},{title:"\u5fae\u4fe1\u53f7",dataIndex:"wechatNumber",key:"wechatNumber"},{title:"\u62e5\u6709\u8d44\u6e90",dataIndex:"haveResources",key:"haveResources"},{title:"\u9700\u6c42\u8d44\u6e90",dataIndex:"demandResources",key:"demandResources"},{title:"\u5f53\u524d\u72b6\u6001"}],rowKey:function(e){return e.id},pagination:{current:k.current,pageSize:k.pageSize,total:k.total},onChange:function(e){x(Object(g.a)({},e))}})))),l.a.createElement(oe,{visible:b,title:v,record:j,hideModal:function(){E(!1)},refresh:I}))})),me=s.a.Item;function se(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0];return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:500,height:600,className:"modal-common",title:a,visible:t,onOk:function(){o.resetFields(),e.hideModal()},onCancel:function(){o.resetFields(),e.hideModal()},cancelText:"\u5173\u95ed"},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(me,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(me,{label:"\u516c\u53f8",name:"companyName"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.companyName})),l.a.createElement(me,{label:"\u5730\u5740",name:"address"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.address})),l.a.createElement(me,{label:"\u62e5\u6709\u8d44\u6e90"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.hasResources})),l.a.createElement(me,{label:"\u9700\u6c42\u8d44\u6e90"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.needResources}),"                        "),l.a.createElement(me,{label:"\u6807\u7b7e"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.lable}))))))}var ue=t(103),de=s.a.Item;function pe(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0],i=ue.a.Option,d=function(){o.resetFields(),e.hideModal()};return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:500,className:"modal-common",title:a,visible:t,onOk:function(){o.validateFields().then((function(a){console.log(a),null==a.states&&alert("\u8bf7\u5148\u9009\u62e9"),T("/manage/wx/minipro/userNeed/check",{id:c.id,state:a.states,type:"1",userId:c.userId}).then((function(a){"0"==a.code?(u.a.success("\u5ba1\u6838\u6210\u529f"),d(),e.refresh()):u.a.error(a.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:d},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(de,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(de,{name:"states",label:"\u5ba1\u6838"},l.a.createElement(ue.a,{onChange:function(e){console.log("selected ${value}")}},l.a.createElement(i,{value:30},"\u5ba1\u6838\u901a\u8fc7"),l.a.createElement(i,{value:21},"\u5ba1\u6838\u62d2\u7edd")))))))}var be=Object(M.b)((function(e){return{username:e.LoginReducer.username}}))((function(e){var a=[{title:"\u9700\u6c42\u7f16\u53f7",dataIndex:"needNumber",key:"needNumber"},{title:"\u7528\u6237\u7f16\u53f7",dataIndex:"userId",key:"userId"},{title:"\u624b\u673a\u53f7",dataIndex:"phone",key:"phone"},{title:"\u5fae\u4fe1\u53f7",dataIndex:"wechatNumber",key:"wechatNumber"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u804c\u4f4d",dataIndex:"position",key:"position"},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email"},{title:"\u9700\u6c42\u7c7b\u522b",dataIndex:"needTypeName",key:"needTypeName"},{title:"\u5176\u4ed6",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){P("add","\u67e5\u770b",a)}},"\u67e5\u770b")))}},{title:"\u63a8\u8350\u4f4d",dataIndex:"deductPoints",key:"deductPoints",render:function(e){return 1==e?"\u662f":"\u5426"}},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){A("add","\u5ba1\u6838",a)}},"\u5ba1\u6838")))}}],t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(!1),b=Object(m.a)(p,2),E=b[0],h=b[1],v=Object(n.useState)(!1),y=Object(m.a)(v,2),O=y[0],j=y[1],N=Object(n.useState)(""),S=Object(m.a)(N,2),k=S[0],x=S[1],I=Object(n.useState)({}),w=Object(m.a)(I,2),C=w[0],z=w[1],F=Object(n.useState)({current:1,pageSize:10}),q=Object(m.a)(F,2),M=q[0],R=q[1],L=function(){d(!0),T("/manage/wx/minipro/userNeed/list",{current:M.current,pageSize:M.pageSize,searchParams:'{"state":"22"}'}).then((function(e){d(!1),o(e.data.list),R({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total})})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){return L(),function(){}}),[M.current]);var P=function(e,a,t){h(!0),x(a),z(t),d(!0),T("/manage/wx/minipro/userNeed/details/"+t.id).then((function(e){d(!1),console.log(e.data),z(e.data)})).catch((function(e){console.log(e)}))},A=function(e,a,t){j(!0),x(a),z(t),d(!1)},_=function(){h(!1),j(!1)};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u5f85\u5ba1\u6838\u9700\u6c42",icon:le.a}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u5f85\u5ba1\u6838\u9700\u6c42"),l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:u,dataSource:r,columns:a,rowKey:function(e){return e.id},pagination:{current:M.current,pageSize:M.pageSize,total:M.total},onChange:function(e){R(Object(g.a)({},e))}})))),l.a.createElement(se,{visible:E,title:k,record:C,hideModal:_,refresh:L}),l.a.createElement(pe,{visible:O,title:k,record:C,hideModal:_,refresh:L}))})),Ee=s.a.Item;function fe(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0],i=function(){o.resetFields(),e.hideModal()};return Object(n.useEffect)((function(){console.log("ddd"),o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:800,className:"modal-common",title:a,visible:t,onOk:function(){o.validateFields().then((function(a){console.log(a),T("/api/v1/app/update",a).then((function(a){0===a.code?(u.a.success("\u4fee\u6539\u6210\u529f"),i(),e.refresh()):u.a.error(a.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:i},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(Ee,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(Ee,{label:"\u5e94\u7528\u540d\u79f0",name:"appName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0"})),l.a.createElement(Ee,{label:"\u9ed1\u540d\u5355\u547d\u4e2d\u8df3\u8f6c\u94fe\u63a5",name:"hitBlacklistJumpLink",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9ed1\u540d\u5355\u547d\u4e2d\u8df3\u8f6c\u94fe\u63a5"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u9ed1\u540d\u5355\u547d\u4e2d\u8df3\u8f6c\u94fe\u63a5"}))))))}var ge="";var he=Object(M.b)((function(e){return{username:e.LoginReducer.username}}))((function(e){var a=p.a.Search,t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),u=s[0],d=s[1],b=Object(n.useState)(!1),E=Object(m.a)(b,2),f=E[0],h=E[1],v=Object(n.useState)(""),y=Object(m.a)(v,2),O=y[0],j=(y[1],Object(n.useState)({})),N=Object(m.a)(j,2),S=N[0],k=(N[1],Object(n.useState)({current:1,pageSize:10})),x=Object(m.a)(k,2),I=x[0],w=x[1],C=function(){d(!0),console.log(ge),T("/manage/wx/minipro/userCommunity/list",{current:I.current,pageSize:I.pageSize,searchParams:'{"inCommunityCode":"'+ge+'"}'}).then((function(e){d(!1),o(e.data.list),w({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total})})).catch((function(e){console.log(e)}))};return Object(n.useEffect)((function(){return C(),function(){}}),[I.current]),l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u5165\u7fa4\u7801\u5217\u8868",icon:le.a}),l.a.createElement("div",{className:"searchName"},l.a.createElement(a,{placeholder:"\u8bf7\u8f93\u5165\u5165\u7fa4\u7801",onSearch:function(e){console.log(e),ge=e,C()},style:{width:200}})),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u5165\u7fa4\u7801"),l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:u,dataSource:r,columns:[{title:"\u7528\u6237\u7f16\u53f7",dataIndex:"userId",key:"userId"},{title:"\u793e\u7fa4\u7f16\u53f7",dataIndex:"communityNumber",key:"communityNumber"},{title:"\u793e\u7fa4\u540d\u79f0",dataIndex:"communityName",key:"communityName"},{title:"\u624b\u673a\u53f7",dataIndex:"phone",key:"phone"},{title:"\u5165\u7fa4\u7801",dataIndex:"inCommunityCode",key:"inCommunityCode"}],rowKey:function(e){return e.communityNumber},pagination:{current:I.current,pageSize:I.pageSize,total:I.total},onChange:function(e){w(Object(g.a)({},e))}})))),l.a.createElement(fe,{visible:f,title:O,record:S,hideModal:function(){h(!1)},refresh:C}))})),ve=s.a.Item;function ye(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0];return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:500,height:600,className:"modal-common",title:a,visible:t,onOk:function(){o.resetFields(),e.hideModal()},onCancel:function(){o.resetFields(),e.hideModal()},cancelText:"\u5173\u95ed"},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(ve,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(ve,{label:"\u516c\u53f8",name:"companyName"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.companyName})),l.a.createElement(ve,{label:"\u5730\u5740",name:"address"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.address})),l.a.createElement(ve,{label:"\u62e5\u6709\u8d44\u6e90"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.hasResources})),l.a.createElement(ve,{label:"\u9700\u6c42\u8d44\u6e90"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.needResources}),"                        "),l.a.createElement(ve,{label:"\u6807\u7b7e"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.lable}))))))}var Oe=Object(M.b)((function(e){return{username:e.LoginReducer.username}}))((function(e){var a=[{title:"\u9700\u6c42\u7f16\u53f7",dataIndex:"needNumber",key:"needNumber"},{title:"\u7528\u6237\u7f16\u53f7",dataIndex:"userId",key:"userId"},{title:"\u624b\u673a\u53f7",dataIndex:"phone",key:"phone"},{title:"\u5fae\u4fe1\u53f7",dataIndex:"wechatNumber",key:"wechatNumber"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u804c\u4f4d",dataIndex:"position",key:"position"},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email"},{title:"\u9700\u6c42\u7c7b\u522b",dataIndex:"needTypeName",key:"needTypeName"},{title:"\u5176\u4ed6",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){R("add","\u67e5\u770b",a)}},"\u67e5\u770b")))}},{title:"\u63a8\u8350\u4f4d",dataIndex:"deductPoints",key:"deductPoints",render:function(e){return 1==e?"\u662f":"\u5426"}},{title:"\u5f53\u524d\u72b6\u6001",dataIndex:"state",key:"state",render:function(e){return"30"==e?"\u4e0a\u67b6":"31"==e?"\u4e0b\u67b6":"21"==e?"\u5ba1\u6838\u62d2\u7edd":"\u5f85\u5ba1\u6838"}}],t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(!1),b=Object(m.a)(p,2),E=b[0],h=b[1],v=Object(n.useState)(!1),y=Object(m.a)(v,2),O=(y[0],y[1],Object(n.useState)("")),j=Object(m.a)(O,2),N=j[0],S=j[1],k=Object(n.useState)({}),x=Object(m.a)(k,2),I=x[0],w=x[1],C=Object(n.useState)({current:1,pageSize:10}),z=Object(m.a)(C,2),F=z[0],q=z[1],M=function(){d(!0),T("/manage/wx/minipro/userNeed/list",{current:F.current,pageSize:F.pageSize}).then((function(e){d(!1),o(e.data.list),q({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total})})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){return M(),function(){}}),[F.current]);var R=function(e,a,t){h(!0),S(a),w(t),d(!0),T("/manage/wx/minipro/userNeed/details/"+t.id).then((function(e){d(!1),console.log(e.data),w(e.data)})).catch((function(e){console.log(e)}))};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u5168\u90e8\u9700\u6c42",icon:le.a}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u5168\u90e8\u9700\u6c42"),l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:u,dataSource:r,columns:a,rowKey:function(e){return e.id},pagination:{current:F.current,pageSize:F.pageSize,total:F.total},onChange:function(e){q(Object(g.a)({},e))}})))),l.a.createElement(ye,{visible:E,title:N,record:I,hideModal:function(){h(!1)},refresh:M}))})),je=t(476),Ne=s.a.Item;function Se(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0];return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:500,height:600,className:"modal-common",title:a,visible:t,onOk:function(){o.resetFields(),e.hideModal()},onCancel:function(){o.resetFields(),e.hideModal()},cancelText:"\u5173\u95ed"},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(Ne,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(Ne,{label:"\u516c\u53f8",name:"companyName"},l.a.createElement(p.a,{type:"text",disabled:!0})),l.a.createElement(Ne,{label:"\u5730\u5740",name:"address"},l.a.createElement(p.a,{type:"text",disabled:!0})),l.a.createElement(Ne,{label:"\u62e5\u6709\u8d44\u6e90",name:"hasResources"},l.a.createElement(p.a,{type:"text",disabled:!0})),l.a.createElement(Ne,{label:"\u9700\u6c42\u8d44\u6e90",name:"needResources"},l.a.createElement(p.a,{type:"text",disabled:!0})),l.a.createElement(Ne,{label:"\u6807\u7b7e",name:"lable"},l.a.createElement(p.a,{type:"text",disabled:!0}))))))}var ke=s.a.Item;function xe(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0],i=ue.a.Option,d=function(){o.resetFields(),e.hideModal()};return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:500,className:"modal-common",title:a,visible:t,onOk:function(){o.validateFields().then((function(a){console.log(a),null==a.state&&alert("\u8bf7\u5148\u9009\u62e9"),T("/manage/wx/minipro/userNeed/check/",{id:c.id,state:a.state}).then((function(a){"0"==a.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),d(),e.refresh()):u.a.error(a.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:d},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(ke,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(ke,{label:"\u5ba1\u6838",name:"state"},l.a.createElement(ue.a,null,l.a.createElement(i,{value:30},"\u4e0a\u67b6"),l.a.createElement(i,{value:31},"\u4e0b\u67b6")))))))}var Ie=W.a.confirm;var we=Object(M.b)((function(e){return{username:e.LoginReducer.username}}))((function(e){var a=[{title:"\u9700\u6c42\u7f16\u53f7",dataIndex:"needNumber",key:"needNumber"},{title:"\u7528\u6237\u7f16\u53f7",dataIndex:"userId",key:"userId"},{title:"\u624b\u673a\u53f7",dataIndex:"phone",key:"phone"},{title:"\u5fae\u4fe1\u53f7",dataIndex:"wechatNumber",key:"wechatNumber"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u804c\u4f4d",dataIndex:"position",key:"position"},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email"},{title:"\u9700\u6c42\u7c7b\u522b",dataIndex:"needTypeName",key:"needTypeName"},{title:"\u5176\u4ed6",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){K("add","\u67e5\u770b",a)}},"\u67e5\u770b")))}},{title:"\u63a8\u8350\u4f4d",dataIndex:"deductPoints",key:"deductPoints",render:function(e){return 1==e?"\u662f":"\u5426"}},{title:"\u5f53\u524d\u72b6\u6001",dataIndex:"state",key:"state",render:function(e){return"30"==e?"\u4e0a\u67b6":"31"==e?"\u4e0b\u67b6":void 0}},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){V("add","\u5ba1\u6838",a)}},"\u5ba1\u6838")))}},{title:"\u63a8\u8350",dataIndex:"recommendFlag",key:"recommendFlag",render:function(e,a){return 0==e?l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null," ",l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){A("add","\u63a8\u8350",a)}},"\u63a8\u8350"))):l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null," ",l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){_("add","\u53d6\u6d88\u63a8\u8350",a)}},"\u53d6\u6d88\u63a8\u8350")))}}],t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),d=s[0],p=s[1],b=Object(n.useState)(!1),E=Object(m.a)(b,2),h=E[0],v=E[1],y=Object(n.useState)(!1),O=Object(m.a)(y,2),j=O[0],N=O[1],S=Object(n.useState)(""),k=Object(m.a)(S,2),x=k[0],I=k[1],w=Object(n.useState)({}),C=Object(m.a)(w,2),z=C[0],F=C[1],q=Object(n.useState)({current:1,pageSize:10}),M=Object(m.a)(q,2),R=M[0],L=M[1],P=function(){p(!0),T("/manage/wx/minipro/userNeed/list",{current:R.current,pageSize:R.pageSize,searchParams:'{"reviewStatus":"reviewStatus"}'}).then((function(e){p(!1),o(e.data.list),L({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total})})).catch((function(e){console.log(e)}))},A=function(e,a,t){Ie({title:"\u786e\u5b9a\u63a8\u8350\u5417\uff1f",icon:l.a.createElement(je.a,null),onOk:function(){T("/manage/wx/minipro/userecommend/save",{needNumber:t.needNumber,userId:t.userId,needId:t.id}).then((function(e){"0"==e.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),U(),P()):u.a.error(e.message)})).catch((function(e){console.log(e)}))},onCancel:function(){console.log("Cancel")}})},_=function(e,a,t){Ie({title:"\u786e\u5b9a\u53d6\u6d88\u63a8\u8350\u5417\uff1f",icon:l.a.createElement(je.a,null),onOk:function(){T("/manage/wx/minipro/userecommend/delete",{needId:t.id}).then((function(e){"0"==e.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),U(),P()):u.a.error(e.message)})).catch((function(e){console.log(e)}))},onCancel:function(){console.log("Cancel")}})};Object(n.useEffect)((function(){return P(),function(){}}),[R.current]);var K=function(e,a,t){v(!0),I(a),F(t),p(!0),T("/manage/wx/minipro/userNeed/details/"+t.id).then((function(e){p(!1),console.log(e.data),F(e.data)})).catch((function(e){console.log(e)}))},V=function(e,a,t){N(!0),I(a),F(t),p(!1)},U=function(){v(!1),N(!1)};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u8fc7\u5ba1\u9700\u6c42",icon:le.a}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u8fc7\u5ba1\u9700\u6c42"),l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:d,dataSource:r,columns:a,rowKey:function(e){return e.id},pagination:{current:R.current,pageSize:R.pageSize,total:R.total},onChange:function(e){L(Object(g.a)({},e))}})))),l.a.createElement(Se,{visible:h,title:x,record:z,hideModal:U,refresh:P}),l.a.createElement(xe,{visible:j,title:x,record:z,hideModal:U,refresh:P}))})),Ce=s.a.Item;function ze(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0];return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:500,height:600,className:"modal-common",title:a,visible:t,onOk:function(){o.resetFields(),e.hideModal()},onCancel:function(){o.resetFields(),e.hideModal()},cancelText:"\u5173\u95ed"},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(Ce,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(Ce,{label:"\u516c\u53f8",name:"companyName"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.companyName})),l.a.createElement(Ce,{label:"\u5730\u5740",name:"address"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.address})),l.a.createElement(Ce,{label:"\u62e5\u6709\u8d44\u6e90"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.hasResources})),l.a.createElement(Ce,{label:"\u9700\u6c42\u8d44\u6e90"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.needResources}),"                        "),l.a.createElement(Ce,{label:"\u6807\u7b7e"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.lable}))))))}var Fe=s.a.Item;function qe(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0],i=(ue.a.Option,function(){o.resetFields(),e.hideModal()});return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:500,className:"modal-common",title:a,visible:t,onOk:function(){o.validateFields().then((function(a){console.log(a),T("/manage/wx/minipro/userNeed/refusereason",{id:a.id,refuseReason:a.refuseReason}).then((function(a){"0"==a.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),i(),e.refresh()):u.a.error(a.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:i},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(Fe,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(Fe,{label:"\u62d2\u7edd\u7406\u7531",name:"refuseReason",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u62d2\u7edd\u7406\u7531"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u62d2\u7edd\u7406\u7531"}))))))}var Te=Object(M.b)((function(e){return{username:e.LoginReducer.username}}))((function(e){var a=[{title:"\u9700\u6c42\u7f16\u53f7",dataIndex:"needNumber",key:"needNumber"},{title:"\u7528\u6237\u7f16\u53f7",dataIndex:"userId",key:"userId"},{title:"\u624b\u673a\u53f7",dataIndex:"phone",key:"phone"},{title:"\u5fae\u4fe1\u53f7",dataIndex:"wechatNumber",key:"wechatNumber"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u804c\u4f4d",dataIndex:"position",key:"position"},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email"},{title:"\u9700\u6c42\u7c7b\u522b",dataIndex:"needTypeName",key:"needTypeName"},{title:"\u5176\u4ed6",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){P("add","\u67e5\u770b",a)}},"\u67e5\u770b")))}},{title:"\u63a8\u8350\u4f4d",dataIndex:"deductPoints",key:"deductPoints",render:function(e){return 1==e?"\u662f":"\u5426"}},{title:"\u62d2\u7edd\u7406\u7531",dataIndex:"refuseReason",key:"refuseReason",render:function(e,a){return e||l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){A("add","\u586b\u5199",a)}},"\u586b\u5199")))}}],t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(!1),b=Object(m.a)(p,2),E=b[0],h=b[1],v=Object(n.useState)(!1),y=Object(m.a)(v,2),O=y[0],j=y[1],N=Object(n.useState)(""),S=Object(m.a)(N,2),k=S[0],x=S[1],I=Object(n.useState)({}),w=Object(m.a)(I,2),C=w[0],z=w[1],F=Object(n.useState)({current:1,pageSize:10}),q=Object(m.a)(F,2),M=q[0],R=q[1],L=function(){d(!0),T("/manage/wx/minipro/userNeed/list",{current:M.current,pageSize:M.pageSize,searchParams:'{"state":"21"}'}).then((function(e){d(!1),o(e.data.list),R({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total})})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){return L(),function(){}}),[M.current]);var P=function(e,a,t){h(!0),x(a),z(t),d(!0),T("/manage/wx/minipro/userNeed/details/"+t.id).then((function(e){d(!1),console.log(e.data),z(e.data)})).catch((function(e){console.log(e)}))},A=function(e,a,t){j(!0),x(a),z(t),d(!1)},_=function(){h(!1),j(!1)};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u88ab\u62d2\u9700\u6c42",icon:le.a}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u88ab\u62d2\u9700\u6c42"),l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:u,dataSource:r,columns:a,rowKey:function(e){return e.id},pagination:{current:M.current,pageSize:M.pageSize,total:M.total},onChange:function(e){R(Object(g.a)({},e))}})))),l.a.createElement(ze,{visible:E,title:k,record:C,hideModal:_,refresh:L}),l.a.createElement(qe,{visible:O,title:k,record:C,hideModal:_,refresh:L}))})),Me=t(477),Re=t(462),Le=s.a.Item;function Pe(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0];return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:500,height:600,className:"modal-common",title:a,visible:t,onOk:function(){o.resetFields(),e.hideModal()},onCancel:function(){o.resetFields(),e.hideModal()},cancelText:"\u5173\u95ed"},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(Le,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(Le,{label:"\u516c\u53f8",name:"companyName"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.companyName})),l.a.createElement(Le,{label:"\u5730\u5740",name:"address"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.address})),l.a.createElement(Le,{label:"\u62e5\u6709\u8d44\u6e90"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.hasResources})),l.a.createElement(Le,{label:"\u9700\u6c42\u8d44\u6e90"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.needResources}),"                        "),l.a.createElement(Le,{label:"\u6807\u7b7e"},l.a.createElement(p.a,{type:"text",disabled:!0,value:c.lable}))))))}var Ae=s.a.Item;function _e(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0],i=ue.a.Option,d=function(){o.resetFields(),e.hideModal()};return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:500,className:"modal-common",title:a,visible:t,onOk:function(){o.validateFields().then((function(a){console.log(a),null==a.states&&alert("\u8bf7\u5148\u9009\u62e9"),T("/manage/wx/minipro/community/operation/"+a.id+"/"+a.states).then((function(a){"0"==a.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),d(),e.refresh()):u.a.error(a.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:d},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(Ae,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(Ae,{name:"states"},l.a.createElement(ue.a,{value:"",onChange:function(e){console.log("selected ${value}")}},l.a.createElement(i,{value:"0"},"\u4e0a\u67b6"),l.a.createElement(i,{value:"1"},"\u4e0b\u67b6")))))))}var Ke=Re.a.TabPane,Ve=W.a.confirm,Ge="";var Ue=Object(M.b)((function(e){return{username:e.LoginReducer.username}}))((function(e){var a=Object(i.g)(),t=[{title:"\u793e\u7fa4\u7f16\u53f7",dataIndex:"communityNumber",key:"communityNumber"},{title:"\u6392\u5e8f\u6743\u91cd",dataIndex:"sort",key:"sort"},{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u56fe\u6807",dataIndex:"iconName",key:"iconName"},{title:"\u72b6\u6001",dataIndex:"state",key:"state",render:function(e){return 0==e?"\u4e0a\u67b6":"\u4e0b\u67b6"}},{title:"\u63a8\u5e7f\u6587\u6848",dataIndex:"treatment",key:"treatment"},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){V("add","\u64cd\u4f5c",a)}},"\u64cd\u4f5c"),"\xa0",l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){D("add","\u64cd\u4f5c",a)}},"\u7f16\u8f91"),"\xa0",l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){W("add","\u64cd\u4f5c",a)}},"\u5220\u9664"))}}],c=Object(n.useState)([]),r=Object(m.a)(c,2),o=r[0],s=r[1],d=Object(n.useState)(!1),p=Object(m.a)(d,2),b=p[0],E=p[1],h=Object(n.useState)(!1),v=Object(m.a)(h,2),y=v[0],O=v[1],j=Object(n.useState)(!1),N=Object(m.a)(j,2),S=N[0],k=N[1],x=Object(n.useState)(""),I=Object(m.a)(x,2),w=I[0],C=I[1],z=Object(n.useState)({}),F=Object(m.a)(z,2),q=F[0],M=F[1],R=Object(n.useState)({current:1,pageSize:10}),L=Object(m.a)(R,2),P=L[0],A=L[1],_=function(){E(!0),console.log(Ge),T("/manage/wx/minipro/community/list",{current:P.current,pageSize:P.pageSize,type:Ge}).then((function(e){E(!1),s(e.data.list),A({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total})})).catch((function(e){console.log(e)}))},K=function(e){A(Object(g.a)({},e))};Object(n.useEffect)((function(){return _(),function(){}}),[P.current]);var V=function(e,a,t){k(!0),C(a),M(t),E(!1)},U=function(){O(!1),k(!1)},D=function(e,t,n){M(n),a.push({pathname:"/wx/updatecommunitys",state:{record:n}})},W=function(e,a,t){Ve({title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(je.a,null),onOk:function(){T("/manage/wx/minipro/community/delete/"+t.id).then((function(e){"0"==e.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),U(),_()):u.a.error(e.message)})).catch((function(e){console.log(e)}))},onCancel:function(){console.log("Cancel")}})};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u5168\u90e8\u793e\u7fa4",icon:le.a}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u5168\u90e8\u793e\u7fa4"),l.a.createElement("div",{className:"panel-body"},l.a.createElement("div",{className:"action"},l.a.createElement(f.a,{className:"btn-add",icon:l.a.createElement(Me.a,null),onClick:function(){a.push("/wx/addcommunitys")}},"\u6dfb\u52a0\u5e94\u7528")),l.a.createElement(Re.a,{defaultActiveKey:Ge,onChange:function(e){console.log(Ge),Ge=e,_()},type:"card"},l.a.createElement(Ke,{tab:"\u5168\u90e8\u793e\u7fa4",key:""},l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:b,dataSource:o,columns:t,rowKey:function(e){return e.id},pagination:{current:P.current,pageSize:P.pageSize,total:P.total},onChange:K}))),l.a.createElement(Ke,{tab:"\u77e5\u8bc6\u5185\u5bb9\u793e\u7fa4",key:"10"},l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:b,dataSource:o,columns:t,rowKey:function(e){return e.id},pagination:{current:P.current,pageSize:P.pageSize,total:P.total},onChange:K}))),l.a.createElement(Ke,{tab:"\u5728\u7ebf\u6559\u80b2\u793e\u7fa4",key:"20"},l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:b,dataSource:o,columns:t,rowKey:function(e){return e.id},pagination:{current:P.current,pageSize:P.pageSize,total:P.total},onChange:K}))),l.a.createElement(Ke,{tab:"\u5546\u52a1\u4ea4\u6d41\u7fa4",key:"30"},l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:b,dataSource:o,columns:t,rowKey:function(e){return e.id},pagination:{current:P.current,pageSize:P.pageSize,total:P.total},onChange:K}))))))),l.a.createElement(Pe,{visible:y,title:w,record:q,hideModal:U,refresh:_}),l.a.createElement(_e,{visible:S,title:w,record:q,hideModal:U,refresh:_}))})),De=t(132),We=t(468);var Be=Object(M.b)((function(e){return{username:e.LoginReducer.username}}))((function(e){var a=Object(n.useState)("large"),t=Object(m.a)(a,2),c=t[0],r=(t[1],s.a.useForm()),o=Object(m.a)(r,1)[0],d=Object(i.g)(),b=Object(n.useState)(""),E=Object(m.a)(b,2),g=E[0],h=E[1];return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u6dfb\u52a0",icon:le.a}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-body"},l.a.createElement(s.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",size:c,form:o,onFinish:function(e){T("/manage/wx/minipro/community/save",{type:e.type,iconName:e.iconName,name:e.name,treatment:e.treatment,sort:e.sort,state:e.state,welfare:e.welfare,profile:e.profile,specialGroup:e.specialGroup,announcements:e.announcements,adminWechatCode:e.adminWechatCode,articleUrl:e.articleUrl,articleImgUrl:e.articleImgUrl,shareNumber:e.shareNumber,joinNum:e.joinNum,shareWay:e.shareWay,payAmount:e.payAmount,communityPeoples:e.communityPeoples}).then((function(e){"0"==e.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),d.push("/wx/allcommunitys")):u.a.error(e.message)})).catch((function(e){console.log(e)}))}},l.a.createElement(s.a.Item,{label:"\u7c7b\u578b",name:"type",rules:[{required:!0}]},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"10"},"\u77e5\u8bc6\u5185\u5bb9\u793e\u7fa4"),l.a.createElement(De.a,{value:"20"},"\u5728\u7ebf\u6559\u80b2\u793e\u7fa4"),l.a.createElement(De.a,{value:"30"},"\u5546\u52a1\u4ea4\u6d41\u7fa4"))),l.a.createElement(s.a.Item,{label:"\u793e\u7fa4\u5934\u50cf\u540d",name:"iconName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u56fe\u6807\u540d\u79f0!"}]},l.a.createElement(p.a,null)),l.a.createElement(s.a.Item,{label:"\u793e\u7fa4\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0!"}]},l.a.createElement(p.a,null)),l.a.createElement(s.a.Item,{label:"\u7fa4\u4ecb\u7ecd",name:"profile",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7fa4\u4ecb\u7ecd!"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u793e\u7fa4\u5c55\u793a\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u52a0\u5165\u4eba\u6570",name:"joinNum",rules:[{type:"number",min:1,required:!0,message:"\u8bf7\u8f93\u5165\u52a0\u5165\u4eba\u6570!"}]},l.a.createElement(We.a,null)),l.a.createElement(s.a.Item,{name:"sort",label:"\u6392\u5e8f",rules:[{type:"number",min:0,required:!0,message:"\u8bf7\u8f93\u5165\u5e8f\u53f7!"}]},l.a.createElement(We.a,null)),l.a.createElement(s.a.Item,{label:"\u72b6\u6001",name:"state",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u72b6\u6001!"}]},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"0"},"\u4e0a\u67b6"),l.a.createElement(De.a,{value:"1"},"\u4e0b\u67b6"))),l.a.createElement(s.a.Item,{label:"\u7fa4\u5185\u798f\u5229",name:"welfare",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7fa4\u5185\u798f\u5229!"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u7acb\u5373\u8fdb\u7fa4\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u7279\u5b9a\u4eba\u7fa4",name:"specialGroup",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7279\u5b9a\u4eba\u7fa4!"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u7acb\u5373\u8fdb\u7fa4\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u6ce8\u610f\u4e8b\u9879",name:"announcements",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6ce8\u610f\u4e8b\u9879!"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u7acb\u5373\u8fdb\u7fa4\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u5165\u7fa4\u6587\u6848",name:"treatment",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5165\u7fa4\u6587\u6848!"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u793e\u7fa4\u5c55\u793a\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u7ba1\u7406\u5458\u5fae\u4fe1\u53f7",name:"adminWechatCode",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u5fae\u4fe1\u53f7!"}]},l.a.createElement(p.a,{placeholder:"\u8fdb\u7fa4\u65b9\u6cd5\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u516c\u4f17\u53f7\u6587\u7ae0\u5730\u5740",name:"articleUrl",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u516c\u4f17\u53f7\u6587\u7ae0\u5730\u5740!"}]},l.a.createElement(p.a,{placeholder:"\u5fae\u4fe1\u516c\u4f17\u53f7\u6587\u7ae0\u5730\u5740"})),l.a.createElement(s.a.Item,{label:"\u516c\u4f17\u53f7\u56fe\u7247\u5730\u5740",name:"articleImgUrl",rules:[{message:"\u8bf7\u8f93\u5165\u516c\u4f17\u53f7\u56fe\u7247\u5730\u5740!"}]},l.a.createElement(p.a,{placeholder:"\u963f\u91ccOSS\u5730\u5740"})),l.a.createElement(s.a.Item,{label:"\u7fa4\u6210\u5458\u4eba\u6570",name:"communityPeoples",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7fa4\u6210\u5458\u4eba\u6570!"}]},l.a.createElement(p.a,{placeholder:"\u7fa4\u6210\u5458\u4eba\u6570"})),l.a.createElement(s.a.Item,{label:"\u5206\u4eab\u65b9\u5f0f",onChange:function(e){console.log(e.target.value),h(e.target.value)},name:"shareWay",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5206\u4eab\u65b9\u5f0f!"}]},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"0"},"\u5168\u90e8"),l.a.createElement(De.a,{value:"1"},"\u65b9\u5f0f\u4e00"),l.a.createElement(De.a,{value:"2"},"\u65b9\u5f0f\u4e8c"))),"0"==g||"1"==g?l.a.createElement(s.a.Item,{label:"\u5206\u4eab\u6b21\u6570",name:"shareNumber",rules:[{type:"number",min:1,required:!0,message:"\u8bf7\u8f93\u5165\u9700\u5206\u4eab\u6b21\u6570!"}]},l.a.createElement(We.a,null)):"","0"==g||"2"==g?l.a.createElement(s.a.Item,{label:"\u652f\u4ed8\u91d1\u989d",name:"payAmount",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u652f\u4ed8\u91d1\u989d!"}]},l.a.createElement(p.a,{placeholder:"\u652f\u4ed8\u91d1\u989d"})):"",l.a.createElement(s.a.Item,{wrapperCol:{offset:10}},l.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")))))))}));var Je=function(e){var a=Object(n.useState)("large"),t=Object(m.a)(a,2),c=t[0],r=(t[1],e.location.state.record);console.log(e.location.state.record),console.log(r);var o=s.a.useForm(),d=Object(m.a)(o,1)[0],b=Object(n.useState)(r.shareWay),E=Object(m.a)(b,2),g=E[0],h=E[1],v=Object(i.g)();return Object(n.useEffect)((function(){d.setFieldsValue(r)}),[r]),l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u4fee\u6539",icon:le.a}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-body"},l.a.createElement(s.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",size:c,form:d,onFinish:function(e){console.log(e),T("/manage/wx/minipro/community/update",{id:r.id,type:e.type,iconName:e.iconName,name:e.name,treatment:e.treatment,sort:e.sort,state:e.state,welfare:e.welfare,profile:e.profile,specialGroup:e.specialGroup,announcements:e.announcements,adminWechatCode:e.adminWechatCode,articleUrl:e.articleUrl,articleImgUrl:e.articleImgUrl,shareNumber:e.shareNumber,joinNum:e.joinNum,shareWay:e.shareWay,payAmount:e.payAmount,communityPeoples:e.communityPeoples}).then((function(e){"0"==e.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),v.push("/wx/allcommunitys")):u.a.error(e.message)})).catch((function(e){console.log(e)}))}},l.a.createElement(s.a.Item,{label:"\u7c7b\u578b",name:"type",rules:[{required:!0}]},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:10},"\u77e5\u8bc6\u5185\u5bb9\u793e\u7fa4"),l.a.createElement(De.a,{value:20},"\u5728\u7ebf\u6559\u80b2\u793e\u7fa4"),l.a.createElement(De.a,{value:30},"\u5546\u52a1\u4ea4\u6d41\u7fa4"))),l.a.createElement(s.a.Item,{label:"\u793e\u7fa4\u5934\u50cf\u540d",name:"iconName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u56fe\u6807\u540d\u79f0!"}]},l.a.createElement(p.a,{type:"text"})),l.a.createElement(s.a.Item,{label:"\u793e\u7fa4\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0!"}]},l.a.createElement(p.a,null)),l.a.createElement(s.a.Item,{label:"\u7fa4\u4ecb\u7ecd",name:"profile",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7fa4\u4ecb\u7ecd!"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u793e\u7fa4\u5c55\u793a\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u52a0\u5165\u4eba\u6570",name:"joinNum",rules:[{type:"number",min:1,required:!0,message:"\u8bf7\u8f93\u5165\u52a0\u5165\u4eba\u6570!"}]},l.a.createElement(We.a,null)),l.a.createElement(s.a.Item,{name:"sort",label:"\u6392\u5e8f",rules:[{type:"number",min:0,required:!0,message:"\u8bf7\u8f93\u5165\u5e8f\u53f7!"}]},l.a.createElement(We.a,null)),l.a.createElement(s.a.Item,{label:"\u72b6\u6001",name:"state",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u72b6\u6001!"}]},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:0},"\u4e0a\u67b6"),l.a.createElement(De.a,{value:1},"\u4e0b\u67b6"))),l.a.createElement(s.a.Item,{label:"\u7fa4\u5185\u798f\u5229",name:"welfare",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7fa4\u5185\u798f\u5229!"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u7acb\u5373\u8fdb\u7fa4\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u7279\u5b9a\u4eba\u7fa4",name:"specialGroup",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7279\u5b9a\u4eba\u7fa4!"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u7acb\u5373\u8fdb\u7fa4\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u6ce8\u610f\u4e8b\u9879",name:"announcements",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6ce8\u610f\u4e8b\u9879!"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u7acb\u5373\u8fdb\u7fa4\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u5165\u7fa4\u6587\u6848",name:"treatment",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5165\u7fa4\u6587\u6848!"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u793e\u7fa4\u5c55\u793a\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u7ba1\u7406\u5458\u5fae\u4fe1\u53f7",name:"adminWechatCode",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u5fae\u4fe1\u53f7!"}]},l.a.createElement(p.a,{placeholder:"\u8fdb\u7fa4\u65b9\u6cd5\u9875\u9762"})),l.a.createElement(s.a.Item,{label:"\u516c\u4f17\u53f7\u6587\u7ae0\u5730\u5740",name:"articleUrl",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u5fae\u4fe1\u53f7!"}]},l.a.createElement(p.a,{placeholder:"\u5fae\u4fe1\u516c\u4f17\u53f7\u6587\u7ae0\u5730\u5740"})),l.a.createElement(s.a.Item,{label:"\u516c\u4f17\u53f7\u56fe\u7247\u5730\u5740",name:"articleImgUrl",rules:[{message:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u5fae\u4fe1\u53f7!"}]},l.a.createElement(p.a,{placeholder:"\u963f\u91ccOSS\u5730\u5740"})),l.a.createElement(s.a.Item,{label:"\u7fa4\u6210\u5458\u4eba\u6570",name:"communityPeoples",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7fa4\u6210\u5458\u4eba\u6570!"}]},l.a.createElement(p.a,{placeholder:"\u7fa4\u6210\u5458\u4eba\u6570"})),l.a.createElement(s.a.Item,{label:"\u5206\u4eab\u65b9\u5f0f",onChange:function(e){console.log(e.target.value),console.log("onchange:"),h(e.target.value),console.log(g)},name:"shareWay",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5206\u4eab\u65b9\u5f0f!"}]},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:0},"\u5168\u90e8"),l.a.createElement(De.a,{value:1},"\u65b9\u5f0f\u4e00"),l.a.createElement(De.a,{value:2},"\u65b9\u5f0f\u4e8c"))),0==g||1==g?l.a.createElement(s.a.Item,{label:"\u5206\u4eab\u6b21\u6570",name:"shareNumber",rules:[{type:"number",min:1,required:!0,message:"\u8bf7\u8f93\u5165\u9700\u5206\u4eab\u6b21\u6570!"}]},l.a.createElement(We.a,null)):"",0==g||2==g?l.a.createElement(s.a.Item,{label:"\u652f\u4ed8\u91d1\u989d",name:"payAmount",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u652f\u4ed8\u91d1\u989d!"}]},l.a.createElement(p.a,{placeholder:"\u652f\u4ed8\u91d1\u989d"})):"",l.a.createElement(s.a.Item,{wrapperCol:{offset:10}},l.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")))))))};s.a.Item;function $e(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=(Object(m.a)(r,1)[0],Object(n.useState)([])),i=Object(m.a)(o,2),u=i[0],d=i[1],p=Object(n.useState)(!1),b=Object(m.a)(p,2),E=b[0],f=b[1],h=Object(n.useState)({current:1,pageSize:10}),v=Object(m.a)(h,2),y=v[0],O=v[1];return Object(n.useEffect)((function(){return c.id&&(f(!0),console.log(c.id),T("/manage/wx/minipro/user/community",{current:y.current,pageSize:y.pageSize,id:c.id}).then((function(e){f(!1),d(e.data.list),O({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total})})).catch((function(e){console.log(e)}))),function(){}}),[y.current,c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:1e3,height:1e3,className:"modal-common",title:a,visible:t,onOk:function(){e.hideModal()},onCancel:function(){e.hideModal()},cancelText:"\u5173\u95ed"},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement(ce.a,{bordered:!0,loading:E,dataSource:u,columns:[{title:"\u793e\u7fa4\u7f16\u53f7",dataIndex:"communityNumber",key:"communityNumber"},{title:"\u793e\u7fa4\u540d\u79f0",dataIndex:"communityName",key:"communityName"}],rowKey:function(e){return e.communityNumber},pagination:{current:y.current,pageSize:y.pageSize,total:y.total},onChange:function(e){O(Object(g.a)({},e))}}))))))}var Xe=s.a.Item;function He(e){var a=e.title,t=e.visible,c=e.record,r=s.a.useForm(),o=Object(m.a)(r,1)[0],i=function(){o.resetFields(),e.hideModal()};return Object(n.useEffect)((function(){o.setFieldsValue(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:500,className:"modal-common",title:a,visible:t,onOk:function(){o.validateFields().then((function(a){console.log(a),T("/manage/wx/minipro/userblackinfo/save",{userId:c.id,phone:c.phone,remark:a.remark}).then((function(a){"0"==a.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),i(),e.refresh()):u.a.error(a.msg)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:i},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:o}),l.a.createElement(Xe,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(Xe,{label:"\u5907\u6ce8",name:"remark",rules:[{message:"\u8bf7\u8f93\u5165\u539f\u56e0"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u539f\u56e0"}))))))}var Ye=ue.a.Option;var Qe=Object(M.b)((function(e){return{username:e.LoginReducer.username}}))((function(e){var a=[{title:"\u7528\u6237\u7f16\u53f7",width:"7%",dataIndex:"id",key:"id"},{title:"\u4f1a\u5458",width:"7%",dataIndex:"memberState",render:function(e){return 0===e?"\u5426":"\u662f"}},{title:"\u4f1a\u5458\u5230\u671f\u65e5",width:"7%",dataIndex:"expirationMemberTime",render:function(e){return e?e.split("T")[0]:"\u65e0"}},{title:"\u624b\u673a\u53f7",dataIndex:"phone",key:"phone"},{title:"\u5fae\u4fe1\u53f7",width:"7%",dataIndex:"wechatNumber",key:"wechatNumber"},{title:"\u59d3\u540d",width:"7%",dataIndex:"name",key:"name"},{title:"\u804c\u4f4d",width:"7%",dataIndex:"position",key:"position"},{title:"\u90ae\u7bb1",width:"7%",dataIndex:"email",key:"email"},{title:"\u516c\u53f8\u540d\u79f0",width:"7%",dataIndex:"companyName",key:"companyName"},{title:"\u5730\u5740",width:"7%",dataIndex:"address",key:"address"},{title:"\u5f53\u524d\u79ef\u5206",width:"7%",dataIndex:"integral",key:"integral"},{title:"\u63a5\u53d7\u534f\u8bae",width:"7%",dataIndex:"agreement",key:"agreement",render:function(e){return 1==e?"\u662f":"\u5426"}},{title:"\u9700\u6c42\u6761\u6570",width:"7%",dataIndex:"needs",key:"needs"},{title:"\u8fdb\u5165\u793e\u7fa4",width:"9%",dataIndex:"isBlack",render:function(e,a){return 0==e?l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){P("add","\u67e5\u770b",a)}},"\u67e5\u770b")),l.a.createElement("p",null," ",l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){A("add","\u6dfb\u52a0\u9ed1\u540d\u5355",a)}},"\u6dfb\u52a0\u9ed1\u540d\u5355"))):l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){P("add","\u67e5\u770b",a)}},"\u67e5\u770b")),l.a.createElement("p",null,"\u5df2\u52a0\u5165\u9ed1\u540d\u5355"))}}],t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(!1),b=Object(m.a)(p,2),E=b[0],h=b[1],v=Object(n.useState)(!1),y=Object(m.a)(v,2),O=y[0],j=y[1],N=Object(n.useState)(""),S=Object(m.a)(N,2),k=S[0],x=S[1],I=Object(n.useState)({}),w=Object(m.a)(I,2),C=w[0],z=w[1],F=Object(n.useState)({current:1,pageSize:10}),q=Object(m.a)(F,2),M=q[0],R=q[1],L=function(e){d(!0),T("/manage/wx/minipro/user/info",{current:M.current,pageSize:M.pageSize,type:e||""}).then((function(e){d(!1),o(e.data.list),R({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total})})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){return L(),function(){}}),[M.current]);var P=function(e,a,t){h(!0),x(a),z(t),d(!0)},A=function(e,a,t){j(!0),x(a),z(t),d(!1)},_=function(){h(!1),j(!1),d(!1)};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u7528\u6237\u4fe1\u606f",icon:le.a}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u7528\u6237\u4fe1\u606f"),l.a.createElement("div",{className:"panel-body"},l.a.createElement("div",{className:"action"},l.a.createElement("div",{style:{float:"right"}},l.a.createElement("label",null,"\u7528\u6237\u4fe1\u606f\uff1a"),l.a.createElement(ue.a,{defaultValue:"",style:{width:120},onChange:function(e){L(e)}},l.a.createElement(Ye,{value:""},"\u5168\u90e8"),l.a.createElement(Ye,{value:"1"},"\u4f1a\u5458")))),l.a.createElement(ce.a,{bordered:!0,tableLayout:"fixed",loading:u,dataSource:r,columns:a,rowKey:function(e){return e.id},pagination:{current:M.current,pageSize:M.pageSize,total:M.total},onChange:function(e){R(Object(g.a)({},e))}})))),l.a.createElement($e,{visible:E,title:k,record:C,hideModal:_,refresh:L}),l.a.createElement(He,{visible:O,title:k,record:C,hideModal:_,refresh:L}))})),Ze=W.a.confirm;var ea=Object(M.b)((function(e){return{username:e.LoginReducer.username}}))((function(e){var a=[{title:"\u7528\u6237\u7f16\u53f7",dataIndex:"userId",key:"userId"},{title:"\u624b\u673a\u53f7",dataIndex:"phone",key:"phone"},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark"},{title:"\u64cd\u4f5c",dataIndex:"isBlack",key:"isBlack",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){O("add","\u5220\u9664",a)}},"\u5220\u9664")))}}],t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),d=s[0],p=s[1],b=Object(n.useState)({current:1,pageSize:10}),E=Object(m.a)(b,2),h=E[0],v=E[1],y=function(){p(!0),T("/manage/wx/minipro/userblackinfo/list",{current:h.current,pageSize:h.pageSize}).then((function(e){p(!1),o(e.data.list),v({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total})})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){return y(),function(){}}),[h.current]);var O=function(e,a,t){Ze({title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",icon:l.a.createElement(je.a,null),onOk:function(){T("/manage/wx/minipro/userblackinfo/delete/"+t.id).then((function(e){"0"==e.code?(u.a.success("\u64cd\u4f5c\u6210\u529f"),y()):u.a.error(e.msg)})).catch((function(e){console.log(e)}))},onCancel:function(){console.log("Cancel")}})};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u9ed1\u540d\u5355\u4fe1\u606f",icon:le.a}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u9ed1\u540d\u5355\u4fe1\u606f"),l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:d,dataSource:r,columns:a,rowKey:function(e){return e.id},pagination:{current:h.current,pageSize:h.pageSize,total:h.total},onChange:function(e){v(Object(g.a)({},e))}})))))})),aa=s.a.Item,ta=ue.a.Option;function na(e){var a=e.type,t=e.title,c=e.visible,r=e.record,o=e.roleList,i=s.a.useForm(),d=Object(m.a)(i,1)[0],b=function(){d.resetFields(),e.hideModal()};return Object(n.useEffect)((function(){"edit"===a&&d.setFieldsValue(r),d.setFieldsValue({roleId:[o?o[0].id.toString():""],status:"1"})}),[e]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:600,className:"modal-common",title:t,visible:c,onOk:function(){d.validateFields().then((function(t){console.log(t),t.roleId=t.roleId.join(",");var n={user:JSON.stringify(t)};n.state="add"===a?"create":"update",T("/manage/sys/user/save",n).then((function(a){0==a.code?(u.a.success("\u4fdd\u5b58\u6210\u529f"),b(),e.refresh()):u.a.error(a.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:b},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:d}),l.a.createElement(aa,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(aa,{label:"\u8d26\u53f7",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"})),l.a.createElement(aa,{label:"\u90ae\u7bb1",name:"email",rules:[{type:"email",required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"})),l.a.createElement(aa,{label:"\u624b\u673a\u53f7",name:"mobile",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{validator:function(e,a){return a&&!/^1[3,4,5,6,7,8,9]\d{9}$/i.test(a)?Promise.reject("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"):Promise.resolve()}}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"})),l.a.createElement(aa,{label:"\u89d2\u8272",name:"roleId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u89d2\u8272"}]},l.a.createElement(ue.a,{mode:"multiple"},o&&o.map((function(e,a){return l.a.createElement(ta,{value:e.id.toString(),key:a},e.name)})))),l.a.createElement(aa,{label:"\u72b6\u6001",name:"status",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u72b6\u6001"}]},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"0"},"\u7981\u7528"),l.a.createElement(De.a,{value:"1"},"\u6b63\u5e38")))))))}var la=function(e){console.log(e);var a=[{title:"\u8d26\u53f7",dataIndex:"username",key:"username"},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email"},{title:"\u624b\u673a\u53f7",dataIndex:"mobile",key:"mobile"},{title:"\u89d2\u8272",dataIndex:"roleName",key:"roleName"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(e,a){return 0===e?"\u7981\u7528":"\u6b63\u5e38"}},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){U("edit","\u7f16\u8f91",a)}},"\u7f16\u8f91")))}}],t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),d=s[0],p=s[1],b=Object(n.useState)(!1),E=Object(m.a)(b,2),h=E[0],v=E[1],y=Object(n.useState)(""),O=Object(m.a)(y,2),j=O[0],N=O[1],S=Object(n.useState)(""),k=Object(m.a)(S,2),x=k[0],I=k[1],w=Object(n.useState)({}),C=Object(m.a)(w,2),z=C[0],F=C[1],q=Object(n.useState)({current:1,pageSize:10}),M=Object(m.a)(q,2),R=M[0],L=M[1],P=Object(n.useState)(),A=Object(m.a)(P,2),_=A[0],K=A[1],V=function(){p(!0),T("/manage/sys/user/list",{current:R.current,pageSize:R.pageSize}).then((function(e){0==e.code&&(p(!1),o(e.data.list),L({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total}))})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){return V(),T("/manage/sys/role/listrole").then((function(e){0==e.code?K(e.data):u.a.error(e.message)})).catch((function(e){console.log(e)})),function(){}}),[R.current]);var U=function(e,a,t){v(!0),I(a),N(e),"edit"===e&&F(t)};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u7cfb\u7edf\u7528\u6237\u7ba1\u7406",icon:le.a,routes:[{path:"/sys/sysusers",breadcrumbName:"\u7cfb\u7edf\u7528\u6237\u7ba1\u7406"},{path:"",breadcrumbName:"\u7cfb\u7edf\u7ba1\u7406"}]}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u7cfb\u7edf\u7528\u6237\u7ba1\u7406"),l.a.createElement("div",{className:"panel-body"},l.a.createElement("div",{className:"action"},l.a.createElement(f.a,{className:"btn-add",icon:l.a.createElement(Me.a,null),onClick:function(){U("add","\u65b0\u589e")}},"\u65b0\u589e\u7528\u6237")),l.a.createElement(ce.a,{bordered:!0,loading:d,dataSource:r,columns:a,rowKey:function(e){return e.id},pagination:{current:R.current,pageSize:R.pageSize,total:R.total},onChange:function(e){L(Object(g.a)({},e))}})))),l.a.createElement(na,{visible:h,title:x,roleList:_,record:z,type:j,hideModal:function(){v(!1)},refresh:V}))},ca=s.a.Item;function ra(e){var a=e.type,t=e.title,c=e.visible,r=e.record,o=s.a.useForm(),i=Object(m.a)(o,1)[0],d=function(){i.resetFields(),e.hideModal()};return Object(n.useEffect)((function(){i.setFieldsValue(r)}),[r]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:600,className:"modal-common",title:t,visible:c,onOk:function(){i.validateFields().then((function(t){console.log(t);var n={role:JSON.stringify(t)};n.state="add"===a?"create":"update",T("/manage/sys/role/save",n).then((function(a){0==a.code?(u.a.success("\u4fdd\u5b58\u6210\u529f"),d(),e.refresh()):u.a.error(a.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:d},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{form:i}),l.a.createElement(ca,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(ca,{label:"\u89d2\u8272\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"})),l.a.createElement(ca,{label:"\u89d2\u8272\u552f\u4e00\u6807\u8bc6",name:"nid",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89d2\u8272\u552f\u4e00\u6807\u8bc6"}]},l.a.createElement(p.a,{placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u552f\u4e00\u6807\u8bc6"})),l.a.createElement(ca,{label:"\u5907\u6ce8",name:"remark",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5907\u6ce8"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8"}))))))}var oa=t(469);t(443);function ia(e){var a=e.visible,t=e.authorityList,c=e.checkedKeysList,r=e.record,o=Object(n.useState)([]),i=Object(m.a)(o,2),s=i[0],d=i[1],p=Object(n.useState)([]),b=Object(m.a)(p,2),E=b[0],g=b[1],h=function(){y(),O(),e.hideModal()},y=function(){d([])},O=function(){g([])},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[];if(e&&0!==e.length)return t.forEach((function(e){a.push(e.key)})),a};return Object(n.useEffect)((function(){d(c)}),[c]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:800,className:"modal-common",title:"\u5206\u914d\u6743\u9650",visible:a,onOk:function(){v.a.post("/manage/sys/menu/updatemenu",{menus:s,roleId:r.id}).then((function(e){0==e.data.code?(u.a.success("\u6743\u9650\u4fee\u6539\u6210\u529f"),h()):u.a.error(e.message)})).catch((function(e){console.log(e)}))},onCancel:h},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement("div",{className:"action-group"},l.a.createElement(f.a,{onClick:function(){d(j(t))}},"\u5168\u9009"),l.a.createElement(f.a,{onClick:y},"\u5168\u4e0d\u9009"),l.a.createElement(f.a,{onClick:function(){g(j(t))}},"\u5c55\u5f00\u6240\u6709"),l.a.createElement(f.a,{onClick:O},"\u6536\u7f29\u6240\u6709")),l.a.createElement(oa.a,{checkable:!0,checkedKeys:s,expandedKeys:E,treeData:t,onCheck:function(e){d(e)},onExpand:function(e){g(e)}}))))}var ma=function(e){var a=[{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u89d2\u8272\u552f\u4e00\u6807\u8bc6",dataIndex:"nid",key:"nid"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",render:function(e,a){var t=e.split("T");return t[0]+" "+t[1].split(".")[0]}},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"updateTime",key:"updateTime",render:function(e,a){var t=e.split("T");return t[0]+" "+t[1].split(".")[0]}},{title:"\u521b\u5efa\u4eba",dataIndex:"username",key:"username"},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark"},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){ne("edit","\u7f16\u8f91",a)}},"\u7f16\u8f91")),l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){oe(a)}},"\u5206\u914d\u6743\u9650")))}}],t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),p=s[0],b=s[1],E=Object(n.useState)(!1),h=Object(m.a)(E,2),v=h[0],y=h[1],O=Object(n.useState)(!1),j=Object(m.a)(O,2),N=j[0],S=j[1],k=Object(n.useState)(!1),x=Object(m.a)(k,2),I=x[0],w=x[1],C=Object(n.useState)(""),z=Object(m.a)(C,2),F=z[0],q=z[1],M=Object(n.useState)(""),R=Object(m.a)(M,2),L=R[0],P=R[1],A=Object(n.useState)({}),_=Object(m.a)(A,2),K=_[0],V=_[1],U=Object(n.useState)([]),D=Object(m.a)(U,2),W=D[0],B=D[1],J=Object(n.useState)([]),$=Object(m.a)(J,2),X=$[0],H=$[1],Y=Object(n.useState)({current:1,pageSize:10}),Q=Object(m.a)(Y,2),Z=Q[0],ee=Q[1],te=function(){b(!0),T("/manage/sys/role/list",{current:Z.current,pageSize:Z.pageSize}).then((function(e){0==e.code&&(b(!1),o(e.data.list),ee({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total}))})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){return te(),function(){}}),[Z.current]);var ne=function(e,a,t){S(!0),P(a),V(t),q(e)},re=[],oe=function(e){y(!0),T("/manage/sys/menu/fetch",{roleId:e.id}).then((function(a){if(0==a.code){y(!1);var t=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return a&&0!==a.length&&a.forEach((function(a,n){var l={};l.title=a.label,l.key=a.value,l.checked=a.checked,a.expanded&&(l.children=e(a.children)),l.checked&&re.push(a.value),t.push(l)})),t}(a.data);B(t),console.log(re),H(re),w(!0),V(e)}else u.a.error(a.message)})).catch((function(e){console.log(e)}))},ie=function(){S(!1),w(!1)};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u7cfb\u7edf\u89d2\u8272\u7ba1\u7406",icon:le.a,routes:[{path:"/sys/sysroles",breadcrumbName:"\u7cfb\u7edf\u89d2\u8272\u7ba1\u7406"},{path:"",breadcrumbName:"\u7cfb\u7edf\u7ba1\u7406"}]}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u7cfb\u7edf\u89d2\u8272\u7ba1\u7406"),l.a.createElement("div",{className:"panel-body"},l.a.createElement(d.a,{spinning:v},l.a.createElement("div",{className:"action"},l.a.createElement(f.a,{className:"btn-add",icon:l.a.createElement(Me.a,null),onClick:function(){ne("add","\u65b0\u589e")}},"\u65b0\u589e\u89d2\u8272")),l.a.createElement(ce.a,{bordered:!0,loading:p,dataSource:r,columns:a,rowKey:function(e){return e.id},pagination:{current:Z.current,pageSize:Z.pageSize,total:Z.total},onChange:function(e){ee(Object(g.a)({},e))}}))))),l.a.createElement(ra,{visible:N,title:L,record:K,type:F,hideModal:ie,refresh:te}),l.a.createElement(ia,{visible:I,authorityList:W,record:K,checkedKeysList:X,hideModal:ie,refresh:te}))};var sa=function(e){console.log(e);var a=Object(n.useState)([]),t=Object(m.a)(a,2),c=t[0],r=t[1],o=Object(n.useState)(!1),i=Object(m.a)(o,2),s=(i[0],i[1]);return Object(n.useEffect)((function(){return s(!0),T("/manage/sys/menu/find").then((function(e){if(0==e.code){var a=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return a&&0!==a.length&&a.forEach((function(a,n){var l={};l.title=a.label,l.key=a.value,l.checked=a.checked,a.expanded&&(l.children=e(a.children)),t.push(l)})),t}(e.data);r(a)}})).catch((function(e){console.log(e)})),function(){}}),[]),l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u7cfb\u7edf\u83dc\u5355\u7ba1\u7406",icon:le.a,routes:[{path:"/sys/sysmenus",breadcrumbName:"\u7cfb\u7edf\u83dc\u5355\u7ba1\u7406"},{path:"",breadcrumbName:"\u7cfb\u7edf\u7ba1\u7406"}]}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u7cfb\u7edf\u83dc\u5355\u7ba1\u7406"),l.a.createElement("div",{className:"panel-body"},l.a.createElement(oa.a,{checkable:!0,treeData:c})))))},ua=s.a.Item;ue.a.Option;function da(e){var a=e.type,t=e.title,c=e.visible,r=e.record,o=s.a.useForm(),i=Object(m.a)(o,1)[0],d=function(){i.resetFields(),e.hideModal()};return Object(n.useEffect)((function(){"update"===a&&i.setFieldsValue(r)}),[r]),l.a.createElement("div",null,l.a.createElement(W.a,{getContainer:!1,width:600,className:"modal-common",title:t,visible:c,onOk:function(){i.validateFields().then((function(t){console.log(t),T("add"===a?"/manage/wx/minipro/userConfig/save":"/manage/wx/minipro/userConfig/update",t).then((function(a){0==a.code?(u.a.success("\u4fdd\u5b58\u6210\u529f"),d(),e.refresh()):u.a.error(a.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},onCancel:d},l.a.createElement("div",{className:"modal-inner-connent"},l.a.createElement(s.a,Object.assign({},{labelCol:{span:7},wrapperCol:{span:15}},{form:i}),"update"===a&&l.a.createElement(ua,{name:"id",noStyle:!0},l.a.createElement(p.a,{type:"hidden"})),l.a.createElement(ua,{label:"\u5206\u4eab\u6b21\u6570",name:"shareNum",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u4eab\u6b21\u6570"}]},l.a.createElement(We.a,{placeholder:"\u8bf7\u8f93\u5165\u5206\u4eab\u6b21\u6570"})),l.a.createElement(ua,{label:"\u4f7f\u7528\u79ef\u5206",name:"contactIntegral",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f7f\u7528\u79ef\u5206"}]},l.a.createElement(We.a,{placeholder:"\u8bf7\u8f93\u5165\u4f7f\u7528\u79ef\u5206"})),l.a.createElement(ua,{label:"\u5f00\u901a\u4f1a\u5458\u8d39\u7528",name:"memberAmount",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5f00\u901a\u4f1a\u5458\u8d39\u7528"}]},l.a.createElement(We.a,{placeholder:"\u8bf7\u8f93\u5165\u5f00\u901a\u4f1a\u5458\u8d39\u7528"})),l.a.createElement(ua,{label:"\u4ed8\u8d39\u67e5\u770b",name:"payAmount",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ed8\u8d39\u67e5\u770b\u91d1\u989d"}]},l.a.createElement(We.a,{placeholder:"\u8bf7\u8f93\u5165\u4ed8\u8d39\u67e5\u770b\u91d1\u989d"})),l.a.createElement(ua,{label:"\u5b8c\u6210\u540e\u53ef\u518d\u6b21\u67e5\u770b\u6b21\u6570",name:"lookNum",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5b8c\u6210\u540e\u53ef\u518d\u6b21\u67e5\u770b\u6b21\u6570"}]},l.a.createElement(We.a,{placeholder:"\u8bf7\u8f93\u5165\u5b8c\u6210\u540e\u53ef\u518d\u6b21\u67e5\u770b\u6b21\u6570"})),l.a.createElement(ua,{label:"\u63a8\u8350\u4f4d\u6d88\u8017\u79ef\u5206",name:"recommenIntegral",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u63a8\u8350\u4f4d\u6d88\u8017\u79ef\u5206"}]},l.a.createElement(We.a,{placeholder:"\u8bf7\u8f93\u5165\u63a8\u8350\u4f4d\u6d88\u8017\u79ef\u5206"})),l.a.createElement(ua,{label:"\u7b7e\u5230\u79ef\u5206",name:"signIntegral",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7b7e\u5230\u79ef\u5206"}]},l.a.createElement(We.a,{placeholder:"\u8bf7\u8f93\u5165\u7b7e\u5230\u79ef\u5206"})),l.a.createElement(ua,{label:"\u79ef\u5206\u89c4\u5219\u6587\u6848",name:"integralRule",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u79ef\u5206\u89c4\u5219\u6587\u6848"}]},l.a.createElement(p.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u79ef\u5206\u89c4\u5219\u6587\u6848"}))))))}var pa=function(e){console.log(e);var a=[{title:"\u5206\u4eab\u6b21\u6570",dataIndex:"shareNum",key:"shareNum"},{title:"\u4f7f\u7528\u79ef\u5206",dataIndex:"contactIntegral",key:"contactIntegral"},{title:"\u5f00\u901a\u4f1a\u5458\u8d39\u7528",dataIndex:"memberAmount",key:"memberAmount"},{title:"\u4ed8\u8d39\u67e5\u770b",dataIndex:"payAmount",key:"payAmount"},{title:"\u5b8c\u6210\u540e\u53ef\u518d\u6b21\u67e5\u770b\u6b21\u6570",dataIndex:"lookNum",key:"lookNum"},{title:"\u63a8\u8350\u4f4d\u6d88\u8017\u79ef\u5206",dataIndex:"recommenIntegral",key:"recommenIntegral"},{title:"\u7b7e\u5230\u79ef\u5206",dataIndex:"signIntegral",key:"signIntegral"},{title:"\u79ef\u5206\u89c4\u5219\u6587\u6848",dataIndex:"integralRule",key:"integralRule"},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){V("update","\u7f16\u8f91",a)}},"\u7f16\u8f91")))}}],t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(!1),b=Object(m.a)(p,2),E=b[0],h=b[1],v=Object(n.useState)(""),y=Object(m.a)(v,2),O=y[0],j=y[1],N=Object(n.useState)(""),S=Object(m.a)(N,2),k=S[0],x=S[1],I=Object(n.useState)({}),w=Object(m.a)(I,2),C=w[0],z=w[1],F=Object(n.useState)({current:1,pageSize:10}),q=Object(m.a)(F,2),M=q[0],R=q[1],L=Object(n.useState)(1),P=Object(m.a)(L,2),A=P[0],_=P[1],K=function(){d(!0),T("/manage/wx/minipro/userConfig/list",{current:M.current,pageSize:M.pageSize}).then((function(e){0==e.code&&(d(!1),o(e.data.list),R({current:e.data.pageNum,pageSize:e.data.pageSize,total:e.data.total}),_(e.data.total))})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){return K(),function(){}}),[M.current]);var V=function(e,a,t){h(!0),x(a),j(e),"update"===e&&z(t)};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u53c2\u6570\u914d\u7f6e",icon:le.a,routes:[{path:"/sys/paramconfiguration",breadcrumbName:"\u53c2\u6570\u914d\u7f6e"},{path:"",breadcrumbName:"\u7cfb\u7edf\u7ba1\u7406"}]}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u53c2\u6570\u914d\u7f6e"),l.a.createElement("div",{className:"panel-body"},l.a.createElement("div",{className:"action"},l.a.createElement(f.a,{disabled:0!==A,className:"btn-add",icon:l.a.createElement(Me.a,null),onClick:function(){V("add","\u65b0\u589e")}},"\u65b0\u589e\u914d\u7f6e")),l.a.createElement(ce.a,{bordered:!0,loading:u,dataSource:r,columns:a,rowKey:function(e){return e.id},pagination:{current:M.current,pageSize:M.pageSize,total:M.total},onChange:function(e){R(Object(g.a)({},e))}})))),l.a.createElement(da,{visible:E,title:k,record:C,type:O,hideModal:function(){h(!1)},refresh:K}))},ba=t(478);function Ea(){return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u9ed1\u540d\u5355",icon:ba.a,routes:[{path:"/blacklist",breadcrumbName:"\u9ed1\u540d\u5355\u7ba1\u7406"},{path:"",breadcrumbName:"\u9ed1\u540d\u5355\u5217\u8868"}]}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u9ed1\u540d\u5355\u5217\u8868"),l.a.createElement("div",{className:"panel-body"},l.a.createElement("div",{className:"action"},l.a.createElement(f.a,{className:"btn-add",icon:l.a.createElement(Me.a,null)},"\u6dfb\u52a0\u9ed1\u540d\u5355"))))))}var fa=t(479),ga=t(480);var ha=Object(M.b)((function(e){return{username:e.username}}))((function(e){var a=e.location,t=[{title:"ID",dataIndex:"id",key:"id"},{title:"\u5e94\u7528\u540d\u79f0",dataIndex:"appName",key:"appName"},{title:"\u5e94\u7528\u7f16\u53f7",dataIndex:"appNo",key:"appNo"},{title:"\u56fe\u6807",dataIndex:"icon",key:"icon",render:function(e,a){return l.a.createElement("img",{src:e,alt:"",className:"td-img"})}},{title:"\u9ed1\u540d\u5355\u547d\u4e2d\u8df3\u8f6c\u94fe\u63a5",dataIndex:"hitBlacklistJumpLink",key:"hitBlacklistJumpLink"},{title:"\u57fa\u672c\u64cd\u4f5c",key:"basicAction",render:function(e,a){return l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("a",null,"\u77ed\u94fe\u8f6c\u5316")),l.a.createElement("p",null,l.a.createElement("a",null,"\u975e\u6cd5\u8bbf\u95ee\u62e6\u622a\u8bb0\u5f55")),l.a.createElement("p",null,l.a.createElement("a",null,"\u62e6\u622a\u8bb0\u5f55\u7edf\u8ba1")),l.a.createElement("p",null,l.a.createElement("a",null,"\u767d\u540d\u5355\u7ba1\u7406")))}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime"},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return l.a.createElement("div",{className:"action-button-group"},l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-edit",icon:l.a.createElement(G.a,null),onClick:function(){k("add","\u4fee\u6539\u5e94\u7528",a)}},"\u4fee\u6539")),l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-delete",icon:l.a.createElement(fa.a,null)},"\u5220\u9664")),l.a.createElement("p",null,l.a.createElement(f.a,{className:"btn-delete",icon:l.a.createElement(ga.a,null)},"\u7edf\u8ba1")))}}],c=Object(n.useState)([]),r=Object(m.a)(c,2),o=r[0],i=r[1],s=Object(n.useState)(!0),u=Object(m.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)(!1),E=Object(m.a)(b,2),g=(E[0],E[1]),h=Object(n.useState)(""),v=Object(m.a)(h,2),y=(v[0],v[1]),O=Object(n.useState)({}),j=Object(m.a)(O,2),N=(j[0],j[1]);Object(n.useEffect)((function(){S()}),[]);var S=function(){T("/api/v1/channel/list",{appId:a.state.appId,channelName:"",pageNo:1}).then((function(e){p(!1),i(e.data.list)})).catch((function(e){console.log(e)}))},k=function(e,a,t){g(!0),y(a),N(t)};return l.a.createElement("div",{className:"application-box"},l.a.createElement(ae,{title:"\u6e20\u9053",icon:le.a,routes:[{path:"/application",breadcrumbName:"\u6e20\u9053"},{path:"",breadcrumbName:"\u6e20\u9053\u5217\u8868"}]}),l.a.createElement("div",{className:"page-body"},l.a.createElement("div",{className:"panel"},l.a.createElement("div",{className:"panel-title"},"\u6e20\u9053\u5217\u8868"),l.a.createElement("div",{className:"panel-body"},l.a.createElement(ce.a,{bordered:!0,loading:d,dataSource:o,columns:t,rowKey:function(e){return e.id}})))))})),va=A.a.Content;var ya=Object(M.b)((function(e){return{menuList:e.GlobalReducer.menuList,expired:e.LoginReducer.expired}}),null)((function(e){var a=Object(i.g)();return Object(n.useEffect)((function(){console.log("\u89e6\u53d1\u5224\u65ad"),localStorage.getItem("$Token")||a.push("/login")}),[e.expired]),l.a.createElement(A.a,null,l.a.createElement(X,null),l.a.createElement(A.a,null,l.a.createElement(Z,null),l.a.createElement(A.a,{style:{padding:"40px 36px"}},l.a.createElement(va,{style:{margin:0,minHeight:500}},l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/wx/statistics",component:ne}),l.a.createElement(i.b,{path:"/wx/resoDocking",component:ie}),l.a.createElement(i.b,{path:"/wx/allcommunitys",component:Ue}),l.a.createElement(i.b,{path:"/wx/allrequirements",component:Oe}),l.a.createElement(i.b,{path:"/wx/waitconfirm",component:be}),l.a.createElement(i.b,{path:"/wx/passrequirements",component:we}),l.a.createElement(i.b,{path:"/wx/rejectrequirements",component:Te}),l.a.createElement(i.b,{path:"/wx/communitycode",component:he}),l.a.createElement(i.b,{path:"/wx/addcommunitys",component:Be}),l.a.createElement(i.b,{path:"/wx/updatecommunitys",component:Je}),l.a.createElement(i.b,{path:"/wx/userinfo",component:Qe}),l.a.createElement(i.b,{path:"/wx/userblackinfo",component:ea}),l.a.createElement(i.b,{path:"/sys/sysusers",component:la}),l.a.createElement(i.b,{path:"/sys/sysroles",component:ma}),l.a.createElement(i.b,{path:"/sys/sysmenus",component:sa}),l.a.createElement(i.b,{path:"/sys/paramconfiguration",component:pa}),l.a.createElement(i.b,{path:"/blacklist",component:Ea}),l.a.createElement(i.b,{path:"/channel",component:ha}),l.a.createElement(i.a,{to:"/sys/sysusers"}))))))}));function Oa(){return l.a.createElement(o.a,null,l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/login",component:P}),l.a.createElement(i.b,{path:"/",component:ya})))}var ja=t(9),Na=t(234);t(456);u.a.config({top:"45%",duration:2,maxCount:1}),r.a.render(l.a.createElement(ja.a,{locale:Na.a},l.a.createElement(M.a,{store:w},l.a.createElement(Oa,null))),document.getElementById("root"))}},[[238,1,2]]]);
//# sourceMappingURL=main.6bf3ba56.chunk.js.map